<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniProject-101</title>
    <link rel="icon" type="image/x-icon" href="./images/logo.png">

</head>
<link rel="stylesheet" href="main.css">
<link rel="stylesheet" href="chat.css">
<link rel="stylesheet" href="sec.css">
<link rel="stylesheet" href="contact.css">

<script src="store.js" async></script>


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Epilogue:wght@500;700&family=Fraunces:opsz,wght@9..144,700&family=Montserrat:wght@500;700&family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Epilogue:wght@500;700&family=Fjalla+One&family=Fraunces:opsz,wght@9..144,700&family=Montserrat:wght@500;700&family=Outfit:wght@300;400;600&family=Raleway:ital,wght@1,100&family=Solway&display=swap" rel="stylesheet">





<body>
    

<!--FIRST HEADER-------------------------->
    <div class="fixed-top">
        <header class="navigation">
        <nav class="navbar navbar-expand-lg bg-light">

 <!----LOGO-->                  
                  <a class="navbar-brand" href="file:///C:/Users/radil/OneDrive/Desktop/WD35P/MINIPROJECTfinal/index.html#">
                    <img class="border border-light" src="./images/logo.png" alt="Logo">
                  </a>         

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarTogglerDemo01">


            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item ps-5 me-5"><a class="nav-link" href="file:///C:/Users/radil/OneDrive/Desktop/WD35P/MINIPROJECTfinal/index.html#"><b>Home</b></a>
                </li>
                <li class="nav-item ps-5 me-5"><a class="nav-link" href="file:///C:/Users/radil/OneDrive/Desktop/WD35P/MINIPROJECTfinal/index.html#"><b>Trending</b></a>
                </li>
            <li class="nav-item dropdown ps-5 me-5">
                  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <b>Products</b>
                  </a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Jeans</a></li>
                    <li><a class="dropdown-item" href="#">Trousers</a></li>
                    <li><a class="dropdown-item" href="#">Outwears</a></li>
                    <li><a class="dropdown-item" href="#">Dresses</a></li>
                    <li><a class="dropdown-item" href="#">Dresses</a></li>
                    <li><a class="dropdown-item" href="#">Skirts</a></li>
                    <li><a class="dropdown-item" href="#">Shorts</a></li>
                    <li><a class="dropdown-item" href="#">Polo-shirt</a></li>
                    <li><a class="dropdown-item" href="#">Top</a></li>
                    <li><a class="dropdown-item" href="#">Bags</a></li>
                    <li><a class="dropdown-item" href="#">Shoes</a></li>
                  </ul>
            </li>
                  <li class="nav-item ps-5 me-5"><a class="nav-link" href="#contact"><b>Contact</b></a>
                  </li>
            

            <!-- <form class="searchbox d-flex" role="search">
                <input class="form-control me-4" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
            </form>   -->

            <li class="fav nav-item ps-5 me-5">
                <a href="file:///C:/Users/radil/OneDrive/Desktop/WD35P/PRACTICE/MINIPROJECT101/cart.html#"><i class="fa-regular fa-heart fa-xl me-3" style="margin-top: 1.5rem;"></i></a>
              </li>
              
              <li> <a href="file:///C:/Users/radil/OneDrive/Desktop/WD35P/PRACTICE/MINIPROJECT101/cart.html#"><i class="fa-solid fa-cart-shopping fa-xl" style="margin-top: 1.5rem; margin-right: 5rem;"></i></a> 
              </li>

          </ul>

        </div>
        </nav>       

    </header>
    </div>



<!------------- CART ITEMS DETAILS ------->
<main>

    <!----- HEAD ----->
<div class="small-container cart-page" style="margin-left:38.3rem;
margin-right: 40rem; height: auto;">

<div class="row pt-4" style="background-color: rgba(75, 131, 131, 0.726); ">
      
            <div class="col-5 text-center mt-3" style="color: #fff;">
                <h1>Product</h1> <br>
            </div>

            <div class="col-4 text-center mt-3" style="color: #fff;">
                <h1>Quantity</h1> <br>
            </div>

            <div class="col-4 text-center mt-3 ms-5" style="width: 10rem; margin-left: 3rem; color: #fff;">
                <h1>Subtotal</h1> <br>
            </div>  
</div>

<!------ ITEMS ADDED TO CART----->

<div class="list" style="width: 100%;    background-color: rgba(250, 235, 215, 0.486);  
padding-bottom: 2rem;
margin: 0.5rem 0rem;
padding-left: 3rem; 
border: .05px solid rgba(128, 128, 128, 0.616);">

  <div class="rad_item_from_cart">

  </div>
</div>

<!----------------ITEMS TOTAL ---------------->


<div class="row d-block mb-2" style="width: 45%; margin-left: 60.7rem; background-color: rgba(255, 254, 254, 0.699);">

  <div class="col total" style="border: 1px solid rgba(128, 128, 128, 0.616);background-color: rgba(255, 254, 254, 0.699);  ">
    <div class="row">
        <div class="col-3">
            <h4 class="buytitle" style="color: black;background-color: rgb(255, 254, 254);">Subtotal</h4>
        </div>
        <div class="col text-center ms-5">
            <h4 class="sub_total" style="font-size: 1.8rem; color: red;background-color: rgba(255, 254, 254, 0.699);">₱0.00</h4>
        </div>
    </div>
    <div class="row">
        <div class="col-3">
            <h4 class="buytitle" style="color: black;background-color: rgba(255, 254, 254, 0.699);">Tax</h4>
        </div>
        <div class="col text-center ms-5">
            <h4 class="the_tax" style="font-size: 1.8rem; color: red;background-color: rgba(255, 254, 254, 0.699);">₱0.00</h4>
        </div>
    </div>
</div>

  <div class="col mt-2" style="border: 1px solid rgba(128, 128, 128, 0.616); height: 6rem; border-bottom: .05px solid rgba(128, 128, 128, 0.616); border-style: dashed;background-color: rgba(255, 254, 254, 0.699);">
    <div class="row">
      <div class="col-3 mt-3">
          <h4 class="buytitle" style="color: black;background-color: rgba(255, 254, 254, 0.699);">Total</h4>
      </div>
      <div class="col text-center ms-5 mb-2">
          <h4 class="sub_total_with_tax" style="font-size: 3rem; color: red;background-color: rgba(255, 254, 254, 0.699);">₱0.00</h4>
      </div>

      <div class="checkout mt-3 text-center" style="width: 100%;height:6.1rem; border: .5px solid rgba(128, 128, 128, 0.616); border-style: dashed;background-color: rgba(255, 254, 254, 0.699);">
        <a href="" style="text-decoration: none;"><h3 class="mt-3">Vouchers</h3></a>
        <a  class="checkout1 p-4" href="checkout.html" alt="" style="text-decoration: none; color: #fff; font-size: 2rem;     display: flex;
        flex-direction: row;
        justify-content: center;
        margin-left: 23rem;
        margin-top: -3.9rem; 
        margin-bottom: 8rem;  
        width: 20rem;
        height: 5.5rem; background-color: rgb(39, 156, 172);">Check out</a>
      </div>
    </div>


    
</div>
</main>





    
 <!-------------- CONTACT ------------->

<div class="contact" id="contact" style="margin-top: 10rem;">
  <div class="row">
    <div class="col-4  position-relative">
      <a class="brand" style="position: absolute; margin-top: -6rem; margin-right: 8rem;">
        <img class="border border-light" src="./images/logo.png" alt="Logo">
      </a> 
      <div class="row">
      <div class="col-12 position-relative">
        <div class="icons" style="margin-left: 17rem;">
          <a href="https://www.facebook.com/bajz.lyn" target="_blank"><i class="fa-brands fa-facebook fa-xl me-5"></i></a>
          <a href="#"><i class="fa-brands fa-twitter fa-xl me-5"></i></a>
          <a href="#"><i class="fa-brands fa-instagram fa-xl me-5"></i></a>
        </div>
        <p class="" style="color: rgb(255, 255, 255); margin-top: 12rem; margin-left: 18rem; margin-bottom: 3rem; font-size: 13px; font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif; font-weight: 300;">Designed by Radi<i>R</i>ams</p>
      </div> 
    </div>  
    </div>

    <div class="col-2 d-block">
      <a href="#" style="text-decoration: none; color: white;"><h2>Shop</h2><br></a>
      <a href="#" style="text-decoration: none; color: white;"><h5>About Us</h5></a>
      <a href="#" style="text-decoration: none; color: white;"><h5>Location</h5></a>
      <a href="#" style="text-decoration: none; color: white;"><h5>FAQ</h5></a>
    </div>

    <div class="col-2 d-block">
      <a href="#" style="text-decoration: none; color: white;"><h2>Links</h2><br></a>
      <a href="#" style="text-decoration: none; color: white;"><h5>Electronics</h5></a>
      <a href="#" style="text-decoration: none; color: white;"><h5>Summer</h5></a>
      <a href="#" style="text-decoration: none; color: white;"><h5>Furniture</h5></a>
      <a href="#" style="text-decoration: none; color: white;"><h5>Cosmetics</h5></a>
    </div>

    <div class="col-2 d-block" style="color: white;">
      <h2>Contact</h2><br>
      <h5>+63948 329 9912</h5>
      <h5>radilynramirez@gmail.com</h5>
      <h5>123 Abc Drive, Philippines</h5>
    </div>

    <footer class="d-flex justify-content-center bg-custom-primary text-center text-light" style=" color: #fff!important; font-size: 1.5rem; border-top: 1px solid;">
      <div class="end text-center text-md-start text-lg-start p-3 mt-2">
        Copyright © 2022. All rights reserved.
      </div> <br> <br>
    </footer>
  </div>
</div>















<!-- <--CHATBOX ----------------------------> 

<button class="open-button" onclick="openForm()">
        <img src="./images/chatcon.jpg" class="icon" alt="#">
        </button>
    
<div class="chat-popup" id="myForm">
        <form action="/action_page.₱" class="form-container">
          <h2>Hi! Let's Talk</h2><br>
      
          <label for="msg"><b>Message</b></label>
          <textarea placeholder="Type message.." name="msg" required></textarea>
      
          <button type="submit" class="btn">Send</button>
          <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
        </form>
</div>
      
<script>
      function openForm() {
        document.getElementById("myForm").style.display = "block";
      }
      
      function closeForm() {
        document.getElementById("myForm").style.display = "none";
      }
</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous">  
</script>  

<script src="https://kit.fontawesome.com/6e9296540d.js" crossorigin="anonymous"></script>


<script>
  const _tempObjectList = {}

  const _formatNumberToCurrency = (num) => {
    // this will format number to currency.
    // ex: 100 will be formatted as ₱100.00
    const f = new Intl.NumberFormat('ne-us', {
      currency: 'PHP',// try to change PHP to USD and see the price currency will change to $ and not ₱
      style: 'currency'
    })

    return f.format(num)
  }

  function setInput (param) {
    const [_className, amount] = param.split('++')
    const _item = document.getElementsByClassName(_className) // get price
    const _count = document.getElementsByClassName(_className+'_count') // get quantity
    
    // responsible for updating the overall total to change as the quantity change
    _tempObjectList[_className].count = _count[0].value
    _doSomethingForOverAllTotal()

    // get sum of price * quantity
    const _sum = (+amount) * (+(_count[0].value))
    // set sum
    _item[0].innerText = _formatNumberToCurrency(_sum)
  }


  function removeItem (id) {
    const response = confirm('Are you sure you want to remove this item?')
    if (!response) return
    delete _tempObjectList[id]
    _displayItems(_prepareUI(_tempObjectList))
    _doSomethingForOverAllTotal()
  }

  const _itemTemplate = ({name,id, amount, count, image}) => {

    const total = _formatNumberToCurrency(amount * count)
    const unFormattedAmount = amount
    amount = _formatNumberToCurrency(amount)

    return `
      <div class="row">
        <div class="col-5 cart-info d-flex" style="margin-top: 2rem; width: 50rem;">
                <img src="${image}" style="height: 20rem; width: 15rem;" alt="">
                
                <div class="cart-description d-flex" style="flex-direction: column; padding: 1rem;">
                <h4>${name}</h4> 
                <p>Price: ${amount} </p>
                <a href="#" style="color: red; text-decoration: none; padding:0" onclick="removeItem('${id}')"><p>Remove</p></a>
                </div>
        </div>  

        <div class="col-3 cart-info text-center">
            <div class="d-flex justify-content-center align-content-center" style="margin-top: 9rem;" >
                <input class="${id}_count" style="width: 5rem;" type="number" min="1" value="${count}" onchange="setInput('${id}++${unFormattedAmount}')" >
            </div>
                
        </div>

        <div class="col-3 cart-info text-center " style="margin-top: 2rem;">
            <div class="d-flex justify-content-center align-content-center" style="margin-top: 7rem;">
            <p class="${id}" >${total}</p> <br>
            </div>
        </div> 
    </div>
  `
  }


  function _getItemsFromStorage () {
    let _itemFromLocalStorage = localStorage.getItem('cart_items')
    _itemFromLocalStorage = _itemFromLocalStorage.split(',')
    return _itemFromLocalStorage
  }

  function _createObjectList (list) {
    list.forEach((item) => {
      item = item.split('__')
      const [id, name, amount, image] = item
      // console.log(item)
      if (_tempObjectList[id] == undefined) {
        _tempObjectList[id] = {
          id, name, amount, image, count: 1
        }
      }else {
        _tempObjectList[id].count += 1
      }
    })

    return _tempObjectList
  }

  function _prepareUI (objectList) {
    const _tempItemsForUi = []
    Object.values(objectList).forEach((item) => {
      _tempItemsForUi.push(_itemTemplate(item))
    })
    return _tempItemsForUi
  }

  function _displayItems (templatedItems) {
    console.log(templatedItems)
    const rad_item_from_cart = document.getElementsByClassName('rad_item_from_cart')
    rad_item_from_cart[0].innerHTML = ''
    rad_item_from_cart[0].innerHTML = templatedItems.join('')
  }


  function _doSomethingForOverAllTotal () {
    const sub_total = document.getElementsByClassName('sub_total')
    const the_tax = document.getElementsByClassName('the_tax')
    const sub_total_with_tax = document.getElementsByClassName('sub_total_with_tax')


    const total = Object.values(_tempObjectList).map(({count, amount}) => ((+count) * (+amount)))
      .reduce((c, r) => (c += r), 0)
      
    sub_total[0].innerText = _formatNumberToCurrency(total)

    const TAX = 5
    the_tax[0].innerText = _formatNumberToCurrency(TAX)
    sub_total_with_tax[0].innerText = _formatNumberToCurrency(TAX + total)
  }

  window.onload = function () {

    // console.log(itemFromLocalStorage)
    _displayItems(_prepareUI(_createObjectList(_getItemsFromStorage())))


    _doSomethingForOverAllTotal()

  }
  
</script>

</body>
</html>